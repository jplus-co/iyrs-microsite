<footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">{{ site.title | escape }}</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            {% if site.author %}
              {{ site.author | escape }}
            {% else %}
              {{ site.title | escape }}
            {% endif %}
            </li>
            {% if site.email %}
            <li><a href="mailto:{{ site.email }}">{{ site.email }}</a></li>
            {% endif %}
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          {% if site.github_username %}
          <li>
            {% include icon-github.html username=site.github_username %}
          </li>
          {% endif %}

          {% if site.twitter_username %}
          <li>
            {% include icon-twitter.html username=site.twitter_username %}
          </li>
          {% endif %}
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>{{ site.description | escape }}</p>
      </div>
    </div>

  </div>

<script type="text/javascript">

'use strict';

var select = function select(selector) {
	return document.querySelector(selector);
};
var all = function all(selectors) {
	return document.querySelectorAll(selectors);
};

var nav = select('nav');
var links = Array.prototype.slice.call(all('nav > .trigger'));
var bounds = nav.getBoundingClientRect();
var line = select('nav .line');
var transforms = links.map(function (el) {
	return el.getBoundingClientRect();
}).map(function (rect) {
	return {
		x: rect.left - bounds.left,
		scale: rect.width / bounds.width
	};
});

var transform = function transform(index) {
	return 'translateX(' + transforms[index].x + 'px) scaleX(' + transforms[index].scale + ')';
};
  console.log(transforms);


var onMouseOver = function onMouseOver(evt) {
	var index = links.indexOf(evt.currentTarget);
	line.style.transform = transform(index);
};

var toCurrent = function toCurrent(evt) {
	var index = links.indexOf(select('nav a[aria-current="page"]'));
	line.style.transform = transform(index);
};

var setActive = function setActive(evt) {
	select('nav a[aria-current="page"]').removeAttribute('aria-current');
	evt.currentTarget.setAttribute('aria-current', 'page');
};

var init = function init() {
	toCurrent();
	links.forEach(function (el) {
		return el.addEventListener('mouseenter', onMouseOver);
	});
	links.forEach(function (el) {
		return el.addEventListener('click', setActive);
	});
	nav.addEventListener('mouseleave', toCurrent);
};

init();
  </script>

</footer>
